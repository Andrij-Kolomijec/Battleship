(()=>{"use strict";var e={426:(e,n,t)=>{t.d(n,{Z:()=>p});var r=t(537),o=t.n(r),i=t(645),a=t.n(i),s=t(667),c=t.n(s),l=new URL(t(132),t.b),d=a()(o()),A=c()(l);d.push([e.id,`* {\n  margin: 0;\n  padding: 0;\n}\n\n:root {\n  --border-color: antiquewhite;\n  --ship-color: rgb(76, 183, 226);\n}\n\nbody {\n  height: 99vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background: url(${A});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-position: center;\n  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\n}\n\nheader {\n  font-size: 70px;\n  margin-top: 50px;\n  color: antiquewhite;\n  text-shadow: 5px 5px 4px rgba(0, 0, 0, 0.9);\n}\n\n#content {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n#button-container {\n  display: flex;\n  align-self: center;\n  flex-direction: column;\n  gap: 30px;\n}\n\nbutton {\n  font-size: 30px;\n  background-color: transparent;\n  border-radius: 15px;\n  color: antiquewhite;\n  padding: 0 10px;\n  width: 310px;\n}\n\nbutton:hover {\n  font-weight: bold;\n}\n\n#headings {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 20px;\n  color: antiquewhite;\n  font-size: 30px;\n  position: relative;\n}\n\n#tooltip {\n  color: antiquewhite;\n  font-size: 1rem;\n  position: absolute;\n  top: 2.5rem;\n}\n\n#board-container {\n  display: grid;\n  grid-template: auto / auto auto auto auto ;\n  gap: 10px;\n  box-sizing: border-box;\n}\n\n.fleet {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\n.fleet.player {\n  align-items: flex-end;\n}\n\n.vessel {\n  display: flex;\n}\n\n.vessel > div {\n  border: 1px solid var(--border-color);\n  border-top: 2px solid var(--border-color);\n  border-bottom: 2px solid var(--border-color);\n  background-color: var(--ship-color);\n  height: 20px;\n  width: 20px;\n}\n\n.vessel > div:first-child {\n  border-left: 2px solid var(--border-color);\n}\n\n.vessel > div:last-child {\n  border-right: 2px solid var(--border-color);\n}\n\n#gameboard-enemy,\n#gameboard-player {\n  display: grid;\n  grid-template: repeat(10, 45px) / repeat(10, 45px);\n  border: 1px solid var(--border-color);\n  box-shadow: 0 0 5px 2px rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(50px);\n}\n\n.cell,\n.cell-enemy {\n  border: 1px solid var(--border-color);\n}\n\n.ship {\n  background-color: var(--ship-color);\n}\n\n.hit {\n  background-color: rgb(165, 165, 165);\n}\n\n.hit.ship,\n.hit.ship-enemy {\n  background-color: rgb(145, 36, 36);\n}\n\nfooter {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  align-self: stretch;\n  margin: 15px 50px;\n  color: #faebd7;\n}\n\n.icon {\n  height: 35px;\n  filter: invert(85%) sepia(2%) saturate(1581%) hue-rotate(342deg) brightness(107%) contrast(102%);\n  transition: transform 1.4s ease-in-out;\n}\n\n.icon:hover {\n  transform: rotate(720deg) scale(1.5);\n}\n\na {\n  color: antiquewhite;\n}\n\n.invalid-drop {\n  /* border: 4px solid red; */\n  background-color: rgb(160, 97, 97);\n}\n\n.valid-drop {\n  background-color: rgb(101, 170, 101);\n}`,"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,4BAA4B;EAC5B,+BAA+B;AACjC;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,8BAA8B;EAC9B,mBAAmB;EACnB,mDAAmC;EACnC,sBAAsB;EACtB,4BAA4B;EAC5B,4BAA4B;EAC5B,2BAA2B;EAC3B,sHAAsH;AACxH;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,2CAA2C;AAC7C;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;AACX;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,sBAAsB;EACtB,SAAS;AACX;;AAEA;EACE,eAAe;EACf,6BAA6B;EAC7B,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;EACf,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,mBAAmB;EACnB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,eAAe;EACf,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,0CAA0C;EAC1C,SAAS;EACT,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,qCAAqC;EACrC,yCAAyC;EACzC,4CAA4C;EAC5C,mCAAmC;EACnC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;;EAEE,aAAa;EACb,kDAAkD;EAClD,qCAAqC;EACrC,0CAA0C;EAC1C,2BAA2B;AAC7B;;AAEA;;EAEE,qCAAqC;AACvC;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE,oCAAoC;AACtC;;AAEA;;EAEE,kCAAkC;AACpC;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,mBAAmB;EACnB,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,YAAY;EACZ,gGAAgG;EAChG,sCAAsC;AACxC;;AAEA;EACE,oCAAoC;AACtC;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,2BAA2B;EAC3B,kCAAkC;AACpC;;AAEA;EACE,oCAAoC;AACtC",sourcesContent:["* {\n  margin: 0;\n  padding: 0;\n}\n\n:root {\n  --border-color: antiquewhite;\n  --ship-color: rgb(76, 183, 226);\n}\n\nbody {\n  height: 99vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background: url('./battleship.jpg');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-position: center;\n  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\n}\n\nheader {\n  font-size: 70px;\n  margin-top: 50px;\n  color: antiquewhite;\n  text-shadow: 5px 5px 4px rgba(0, 0, 0, 0.9);\n}\n\n#content {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n#button-container {\n  display: flex;\n  align-self: center;\n  flex-direction: column;\n  gap: 30px;\n}\n\nbutton {\n  font-size: 30px;\n  background-color: transparent;\n  border-radius: 15px;\n  color: antiquewhite;\n  padding: 0 10px;\n  width: 310px;\n}\n\nbutton:hover {\n  font-weight: bold;\n}\n\n#headings {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 20px;\n  color: antiquewhite;\n  font-size: 30px;\n  position: relative;\n}\n\n#tooltip {\n  color: antiquewhite;\n  font-size: 1rem;\n  position: absolute;\n  top: 2.5rem;\n}\n\n#board-container {\n  display: grid;\n  grid-template: auto / auto auto auto auto ;\n  gap: 10px;\n  box-sizing: border-box;\n}\n\n.fleet {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\n.fleet.player {\n  align-items: flex-end;\n}\n\n.vessel {\n  display: flex;\n}\n\n.vessel > div {\n  border: 1px solid var(--border-color);\n  border-top: 2px solid var(--border-color);\n  border-bottom: 2px solid var(--border-color);\n  background-color: var(--ship-color);\n  height: 20px;\n  width: 20px;\n}\n\n.vessel > div:first-child {\n  border-left: 2px solid var(--border-color);\n}\n\n.vessel > div:last-child {\n  border-right: 2px solid var(--border-color);\n}\n\n#gameboard-enemy,\n#gameboard-player {\n  display: grid;\n  grid-template: repeat(10, 45px) / repeat(10, 45px);\n  border: 1px solid var(--border-color);\n  box-shadow: 0 0 5px 2px rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(50px);\n}\n\n.cell,\n.cell-enemy {\n  border: 1px solid var(--border-color);\n}\n\n.ship {\n  background-color: var(--ship-color);\n}\n\n.hit {\n  background-color: rgb(165, 165, 165);\n}\n\n.hit.ship,\n.hit.ship-enemy {\n  background-color: rgb(145, 36, 36);\n}\n\nfooter {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  align-self: stretch;\n  margin: 15px 50px;\n  color: #faebd7;\n}\n\n.icon {\n  height: 35px;\n  filter: invert(85%) sepia(2%) saturate(1581%) hue-rotate(342deg) brightness(107%) contrast(102%);\n  transition: transform 1.4s ease-in-out;\n}\n\n.icon:hover {\n  transform: rotate(720deg) scale(1.5);\n}\n\na {\n  color: antiquewhite;\n}\n\n.invalid-drop {\n  /* border: 4px solid red; */\n  background-color: rgb(160, 97, 97);\n}\n\n.valid-drop {\n  background-color: rgb(101, 170, 101);\n}"],sourceRoot:""}]);const p=d},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},667:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},537:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[n].concat([i]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,A="".concat(l," ").concat(d);i[l]=d+1;var p=t(A),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(u);else{var h=o(u,r);r.byIndex=s,n.splice(s,0,{identifier:A,updater:h,references:1})}a.push(A)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=t(i[a]);n[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var d=t(i[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},132:(e,n,t)=>{e.exports=t.p+"5d901c6f515ba7ea18cc.jpg"}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!e;)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var e=t(379),n=t.n(e),r=t(795),o=t.n(r),i=t(569),a=t.n(i),s=t(565),c=t.n(s),l=t(216),d=t.n(l),A=t(589),p=t.n(A),u=t(426),h={};h.styleTagTransform=p(),h.setAttributes=c(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d(),n()(u.Z,h),u.Z&&u.Z.locals&&u.Z.locals,t(132),t.p,t.p;class f{constructor(e,n){this.length=e,this.name=n,this.hits=Array(e).fill(!1),this.coordinates=[],this.orientation=null}hit(){const e=this.hits.indexOf(!1);-1!==e&&(this.hits[e]=!0)}isSunk(){return this.hits.every((e=>e))}}class m{constructor(e,n){this.rows=e,this.cols=n,this.grid=this.createEmptyGrid(),this.attackedCells=[],this.sunkenShips=0}createEmptyGrid(){return Array.from({length:this.rows},(()=>Array(this.cols).fill(null)))}isValidPlacement(e,n,t,r){for(let o=0;o<e.length;o++)if("horizontal"===r){if(this.grid[n]&&null!==this.grid[n][t+o])return!1}else if(!this.grid[n+o]||null!==this.grid[n+o][t])return!1;return!0}placeShip(e,n,t,r){if(this.isValidPlacement(e,n,t,r)){e.coordinates=[];for(let o=0;o<e.length;o++)"horizontal"===r?(this.grid[n][t+o]=e,e.coordinates.push(`${n}-${t+o}`)):(this.grid[n+o][t]=e,e.coordinates.push(`${n+o}-${t}`));e.orientation=r}else console.log("Invalid ship placement!")}removeShip(e){for(const n of e.coordinates)this.grid[n[0]][n[2]]=null}receiveAttack(e,n){const t=`${e}-${n}`;if(this.attackedCells.includes(t))return console.log("Already attacked this cell!"),!1;if(this.grid[e]&&null!==this.grid[e][n]){const r=this.grid[e][n];return r.hit(),this.attackedCells.push(t),r.isSunk()&&(this.sunkenShips+=1),!0}return this.attackedCells.push(t),!1}checkVictory(){return this.sunkenShips>=7}display(){console.log(`   ${Array.from({length:this.cols},((e,n)=>n)).join(" ")}`);for(let e=0;e<this.rows;e++){const n=e<10?` ${e}`:e;console.log(`${n} ${this.grid[e].map((e=>e?"X":"-")).join(" ")}`)}}}const g=document.querySelector("#gameboard-enemy"),E=document.querySelector("#gameboard-player"),v=document.querySelector("#place-fleet"),C=document.querySelector("#start"),b=document.querySelector("#text");let y=new m(10,10),x=new m(10,10),B={},w={};function k(){B={submarine1:new f(1,"submarine1"),submarine2:new f(1,"submarine2"),destroyer1:new f(2,"destroyer1"),destroyer2:new f(2,"destroyer2"),cruiser:new f(3,"cruiser"),battleship:new f(4,"battleship"),carrier:new f(5,"carrier")},w={submarine1Enemy:new f(1),submarine2Enemy:new f(1),destroyer1Enemy:new f(2),destroyer2Enemy:new f(2),cruiserEnemy:new f(3),battleshipEnemy:new f(4),carrierEnemy:new f(5)}}k(),function(){for(let e=0;e<10;e++)for(let n=0;n<10;n++){const t=document.createElement("div");t.classList.add("cell"),t.setAttribute("id",`${e}-${n}`),E.appendChild(t)}}(),function(){for(let e=0;e<10;e++)for(let n=0;n<10;n++){const t=document.createElement("div");t.classList.add("cell-enemy"),t.setAttribute("id",`${e}-${n}-enemy`),g.appendChild(t)}}();const L=document.querySelectorAll(".cell-enemy");function S(e,n=!1){for(let t=0;t<10;t++)for(let r=0;r<10;r++)if(e.grid[t][r]&&!n){const e=document.getElementById(`${t}-${r}`);e.classList.add("ship"),e.draggable=!0}else e.grid[t][r]&&n&&document.getElementById(`${t}-${r}-enemy`).classList.add("ship-enemy")}function $(e,n){for(const t in n){let r=Math.floor(10*Math.random()),o=Math.floor(10*Math.random()),i=["vertical","horizontal"][Math.random()<.5?0:1];for(;!e.isValidPlacement(n[t],r,o,i);)r=Math.floor(10*Math.random()),o=Math.floor(10*Math.random()),i=["vertical","horizontal"][Math.random()<.5?0:1];e.placeShip(n[t],r,o,i)}}function q(e,n=!1){for(const t in e)e[t].isSunk()&&!n?document.querySelector(`.${t}-player`).querySelectorAll("div").forEach((e=>{e.classList.add("hit"),e.classList.add("ship")})):e[t].isSunk()&&n&&document.querySelector(`.${t.slice(0,-5)}-enemy`).querySelectorAll("div").forEach((e=>{e.classList.add("hit"),e.classList.add("ship")}))}function I(e){if(!x.attackedCells.includes(`${e.target.id[0]}-${e.target.id[2]}`)){if(function(e){e.target.classList.add("hit"),x.receiveAttack(e.target.id[0],e.target.id[2]),q(w,!0)}(e),x.checkVictory())return b.innerText="You win!",void L.forEach((e=>e.removeEventListener("click",I)));!function(){let e=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());for(;y.attackedCells.includes(`${e}-${n}`);)e=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());document.getElementById(`${e}-${n}`).classList.add("hit"),y.receiveAttack(e,n),q(B)}(),y.checkVictory()&&(b.innerText="You loose!",L.forEach((e=>e.removeEventListener("click",I))))}}$(y,B),S(y),$(x,w),S(x,!0),v.addEventListener("click",(()=>{b.innerText="Place your fleet!",document.querySelector("#tooltip").style.display="block",v.innerText="Random placement",document.querySelectorAll(".hit, .ship, .ship-enemy").forEach((e=>{e.classList.remove("ship"),e.classList.remove("hit"),e.classList.remove("ship-enemy")})),y=new m(10,10),x=new m(10,10),L.forEach((e=>e.removeEventListener("click",I))),k(),$(y,B),$(x,w),S(y),S(x,!0),M.addEventListener("dragstart",Y),M.addEventListener("dragover",D),M.addEventListener("dragenter",P),M.addEventListener("dragleave",V),M.addEventListener("drop",G),M.addEventListener("dragend",R)}));const M=document.querySelector("#gameboard-player");let T;const j={length:null};let z=[];function Y(e){if(e.target.classList.contains("ship")){const n=e.target.id[0],t=e.target.id[2];e.dataTransfer.effectAllowed="move";const r=new Image;r.src="",e.dataTransfer.setDragImage(r,0,0),e.dataTransfer.setData("application/json",JSON.stringify(y.grid[n][t])),j.length=y.grid[n][t].length,T=y.grid[n][t].orientation}else e.preventDefault()}function D(e){e.target.classList.contains("ship")||e.preventDefault()}function P(e){z=[];const n=parseInt(e.target.id[0],10),t=parseInt(e.target.id[2],10);try{if("vertical"===T)for(let e=0;e<j.length;e++)z.push(`${n+e}-${t}`);else for(let e=0;e<j.length;e++)z.push(`${n}-${t+e}`);if(y.isValidPlacement(j,n,t,T))for(const e of z){const n=document.getElementById(`${e[0]}-${e[2]}`);n.classList.remove("invalid-drop"),n.classList.remove("valid-drop"),n.classList.add("valid-drop")}else for(const e of z){const n=document.getElementById(`${e[0]}-${e[2]}`);n.classList.remove("invalid-drop"),n.classList.remove("valid-drop"),n.classList.add("invalid-drop")}}catch(e){console.log("Out of range: ",e)}}function V(){document.querySelectorAll(".cell").forEach((e=>{z.includes(e.id)||(e.classList.remove("invalid-drop"),e.classList.remove("valid-drop"))}))}function G(e){e.preventDefault(),e.dataTransfer.dropEffect="move";const n=JSON.parse(e.dataTransfer.getData("application/json")),t=new f(n.length,n.name),{orientation:r}=n,o=n.coordinates[0][0],i=n.coordinates[0][2],a=parseInt(e.target.id[0],10),s=parseInt(e.target.id[2],10);if(y.isValidPlacement(t,a,s,r)){for(const e of y.grid[o][i].coordinates)document.getElementById(`${e[0]}-${e[2]}`).classList.remove("ship");y.removeShip(y.grid[o][i]),y.placeShip(t,a,s,r),B[t.name].coordinates=y.grid[a][s].coordinates,B[t.name].hits=y.grid[a][s].hits}document.querySelectorAll(".invalid-drop, .valid-drop").forEach((e=>{e.classList.remove("invalid-drop"),e.classList.remove("valid-drop")}))}function R(){document.querySelectorAll(".invalid-drop, .valid-drop").forEach((e=>{e.classList.remove("invalid-drop"),e.classList.remove("valid-drop")})),S(y)}C.addEventListener("click",(()=>{b.innerText="Game has started!",v.innerText="New game",document.querySelector("#tooltip").style.display="none",L.forEach((e=>e.addEventListener("click",I))),M.removeEventListener("dragstart",Y),M.removeEventListener("dragover",D),M.addEventListener("dragenter",P),M.addEventListener("dragleave",V),M.removeEventListener("drop",G),M.removeEventListener("dragend",R)})),M.addEventListener("dragstart",Y),M.addEventListener("dragover",D),M.addEventListener("dragenter",P),M.addEventListener("dragleave",V),M.addEventListener("drop",G),M.addEventListener("dragend",R),M.addEventListener("dblclick",(e=>{if(e.target.classList.contains("ship")){const n=e.target.id[0],t=e.target.id[2];(function(e){if(function(e){if("horizontal"===e.orientation){const n=parseInt(e.coordinates[0][0],10),t=parseInt(e.coordinates[0][2],10);for(let r=1;r<e.length;r++)if(n+r>9||y.grid[n+r][t])return!1}else{const n=parseInt(e.coordinates[0][0],10),t=parseInt(e.coordinates[0][2],10);for(let r=1;r<e.length;r++)if(t+r>9||y.grid[n][t+r])return!1}return!0}(e)){const n=parseInt(e.coordinates[0][0],10),t=parseInt(e.coordinates[0][2],10);for(const e of y.grid[n][t].coordinates)document.getElementById(`${e[0]}-${e[2]}`).classList.remove("ship");y.removeShip(e),"horizontal"===e.orientation?y.placeShip(e,n,t,"vertical"):y.placeShip(e,n,t,"horizontal"),B[e.name].coordinates=y.grid[n][t].coordinates,B[e.name].hits=y.grid[n][t].hits}})(y.grid[n][t]),S(y)}}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWUsR0FBRzFDLEVBQVcsTUFBTUEsRUFBVyxNQUM5Q2lDLFVBQVUzSSxPQUFPLFFBRXRCd0gsRUFBWWYsV0FBV04sR0FDRSxlQUFyQkEsRUFBS2YsWUFDUG9DLEVBQVlsQixVQUFVSCxFQUFNQyxFQUFLQyxFQUFLLFlBRXRDbUIsRUFBWWxCLFVBQVVILEVBQU1DLEVBQUtDLEVBQUssY0FFeENxQixFQUFNdkIsRUFBS3BCLE1BQU1JLFlBQWNxQyxFQUFZM0IsS0FBS08sR0FBS0MsR0FBS2xCLFlBQzFEdUMsRUFBTXZCLEVBQUtwQixNQUFNQyxLQUFPd0MsRUFBWTNCLEtBQUtPLEdBQUtDLEdBQUtyQixJQUNyRCxDQUNGLEVBT0k0RyxDQURhcEUsRUFBWTNCLEtBQUtPLEdBQUtDLElBRW5DNEMsRUFBYXpCLEVBQ2YsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fID0gbmV3IFVSTChcIi4vYmF0dGxlc2hpcC5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYCoge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbjpyb290IHtcbiAgLS1ib3JkZXItY29sb3I6IGFudGlxdWV3aGl0ZTtcbiAgLS1zaGlwLWNvbG9yOiByZ2IoNzYsIDE4MywgMjI2KTtcbn1cblxuYm9keSB7XG4gIGhlaWdodDogOTl2aDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBiYWNrZ3JvdW5kOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19ffSk7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgZm9udC1mYW1pbHk6ICdMdWNpZGEgU2FucycsICdMdWNpZGEgU2FucyBSZWd1bGFyJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcbn1cblxuaGVhZGVyIHtcbiAgZm9udC1zaXplOiA3MHB4O1xuICBtYXJnaW4tdG9wOiA1MHB4O1xuICBjb2xvcjogYW50aXF1ZXdoaXRlO1xuICB0ZXh0LXNoYWRvdzogNXB4IDVweCA0cHggcmdiYSgwLCAwLCAwLCAwLjkpO1xufVxuXG4jY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMjBweDtcbn1cblxuI2J1dHRvbi1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMzBweDtcbn1cblxuYnV0dG9uIHtcbiAgZm9udC1zaXplOiAzMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgY29sb3I6IGFudGlxdWV3aGl0ZTtcbiAgcGFkZGluZzogMCAxMHB4O1xuICB3aWR0aDogMzEwcHg7XG59XG5cbmJ1dHRvbjpob3ZlciB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4jaGVhZGluZ3Mge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luOiAyMHB4O1xuICBjb2xvcjogYW50aXF1ZXdoaXRlO1xuICBmb250LXNpemU6IDMwcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuI3Rvb2x0aXAge1xuICBjb2xvcjogYW50aXF1ZXdoaXRlO1xuICBmb250LXNpemU6IDFyZW07XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAyLjVyZW07XG59XG5cbiNib2FyZC1jb250YWluZXIge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlOiBhdXRvIC8gYXV0byBhdXRvIGF1dG8gYXV0byA7XG4gIGdhcDogMTBweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLmZsZWV0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiA1cHg7XG59XG5cbi5mbGVldC5wbGF5ZXIge1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG59XG5cbi52ZXNzZWwge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG4udmVzc2VsID4gZGl2IHtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zaGlwLWNvbG9yKTtcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbn1cblxuLnZlc3NlbCA+IGRpdjpmaXJzdC1jaGlsZCB7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbn1cblxuLnZlc3NlbCA+IGRpdjpsYXN0LWNoaWxkIHtcbiAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbn1cblxuI2dhbWVib2FyZC1lbmVteSxcbiNnYW1lYm9hcmQtcGxheWVyIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZTogcmVwZWF0KDEwLCA0NXB4KSAvIHJlcGVhdCgxMCwgNDVweCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gIGJveC1zaGFkb3c6IDAgMCA1cHggMnB4IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDUwcHgpO1xufVxuXG4uY2VsbCxcbi5jZWxsLWVuZW15IHtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbn1cblxuLnNoaXAge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zaGlwLWNvbG9yKTtcbn1cblxuLmhpdCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigxNjUsIDE2NSwgMTY1KTtcbn1cblxuLmhpdC5zaGlwLFxuLmhpdC5zaGlwLWVuZW15IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE0NSwgMzYsIDM2KTtcbn1cblxuZm9vdGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBhbGlnbi1zZWxmOiBzdHJldGNoO1xuICBtYXJnaW46IDE1cHggNTBweDtcbiAgY29sb3I6ICNmYWViZDc7XG59XG5cbi5pY29uIHtcbiAgaGVpZ2h0OiAzNXB4O1xuICBmaWx0ZXI6IGludmVydCg4NSUpIHNlcGlhKDIlKSBzYXR1cmF0ZSgxNTgxJSkgaHVlLXJvdGF0ZSgzNDJkZWcpIGJyaWdodG5lc3MoMTA3JSkgY29udHJhc3QoMTAyJSk7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAxLjRzIGVhc2UtaW4tb3V0O1xufVxuXG4uaWNvbjpob3ZlciB7XG4gIHRyYW5zZm9ybTogcm90YXRlKDcyMGRlZykgc2NhbGUoMS41KTtcbn1cblxuYSB7XG4gIGNvbG9yOiBhbnRpcXVld2hpdGU7XG59XG5cbi5pbnZhbGlkLWRyb3Age1xuICAvKiBib3JkZXI6IDRweCBzb2xpZCByZWQ7ICovXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigxNjAsIDk3LCA5Nyk7XG59XG5cbi52YWxpZC1kcm9wIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEwMSwgMTcwLCAxMDEpO1xufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLFNBQVM7RUFDVCxVQUFVO0FBQ1o7O0FBRUE7RUFDRSw0QkFBNEI7RUFDNUIsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixtREFBbUM7RUFDbkMsc0JBQXNCO0VBQ3RCLDRCQUE0QjtFQUM1Qiw0QkFBNEI7RUFDNUIsMkJBQTJCO0VBQzNCLHNIQUFzSDtBQUN4SDs7QUFFQTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLDJDQUEyQztBQUM3Qzs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztBQUNYOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsU0FBUztBQUNYOztBQUVBO0VBQ0UsZUFBZTtFQUNmLDZCQUE2QjtFQUM3QixtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsMENBQTBDO0VBQzFDLFNBQVM7RUFDVCxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLFFBQVE7QUFDVjs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHFDQUFxQztFQUNyQyx5Q0FBeUM7RUFDekMsNENBQTRDO0VBQzVDLG1DQUFtQztFQUNuQyxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UsMENBQTBDO0FBQzVDOztBQUVBO0VBQ0UsMkNBQTJDO0FBQzdDOztBQUVBOztFQUVFLGFBQWE7RUFDYixrREFBa0Q7RUFDbEQscUNBQXFDO0VBQ3JDLDBDQUEwQztFQUMxQywyQkFBMkI7QUFDN0I7O0FBRUE7O0VBRUUscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsbUNBQW1DO0FBQ3JDOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDOztBQUVBOztFQUVFLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixnR0FBZ0c7RUFDaEcsc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLG9DQUFvQztBQUN0Q1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbjpyb290IHtcXG4gIC0tYm9yZGVyLWNvbG9yOiBhbnRpcXVld2hpdGU7XFxuICAtLXNoaXAtY29sb3I6IHJnYig3NiwgMTgzLCAyMjYpO1xcbn1cXG5cXG5ib2R5IHtcXG4gIGhlaWdodDogOTl2aDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJhY2tncm91bmQ6IHVybCgnLi9iYXR0bGVzaGlwLmpwZycpO1xcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkO1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xcbiAgZm9udC1mYW1pbHk6ICdMdWNpZGEgU2FucycsICdMdWNpZGEgU2FucyBSZWd1bGFyJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcXG59XFxuXFxuaGVhZGVyIHtcXG4gIGZvbnQtc2l6ZTogNzBweDtcXG4gIG1hcmdpbi10b3A6IDUwcHg7XFxuICBjb2xvcjogYW50aXF1ZXdoaXRlO1xcbiAgdGV4dC1zaGFkb3c6IDVweCA1cHggNHB4IHJnYmEoMCwgMCwgMCwgMC45KTtcXG59XFxuXFxuI2NvbnRlbnQge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBnYXA6IDIwcHg7XFxufVxcblxcbiNidXR0b24tY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZ2FwOiAzMHB4O1xcbn1cXG5cXG5idXR0b24ge1xcbiAgZm9udC1zaXplOiAzMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xcbiAgY29sb3I6IGFudGlxdWV3aGl0ZTtcXG4gIHBhZGRpbmc6IDAgMTBweDtcXG4gIHdpZHRoOiAzMTBweDtcXG59XFxuXFxuYnV0dG9uOmhvdmVyIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG4jaGVhZGluZ3Mge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIG1hcmdpbjogMjBweDtcXG4gIGNvbG9yOiBhbnRpcXVld2hpdGU7XFxuICBmb250LXNpemU6IDMwcHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbiN0b29sdGlwIHtcXG4gIGNvbG9yOiBhbnRpcXVld2hpdGU7XFxuICBmb250LXNpemU6IDFyZW07XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDIuNXJlbTtcXG59XFxuXFxuI2JvYXJkLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZTogYXV0byAvIGF1dG8gYXV0byBhdXRvIGF1dG8gO1xcbiAgZ2FwOiAxMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmZsZWV0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZ2FwOiA1cHg7XFxufVxcblxcbi5mbGVldC5wbGF5ZXIge1xcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcbn1cXG5cXG4udmVzc2VsIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi52ZXNzZWwgPiBkaXYge1xcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcXG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zaGlwLWNvbG9yKTtcXG4gIGhlaWdodDogMjBweDtcXG4gIHdpZHRoOiAyMHB4O1xcbn1cXG5cXG4udmVzc2VsID4gZGl2OmZpcnN0LWNoaWxkIHtcXG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcXG59XFxuXFxuLnZlc3NlbCA+IGRpdjpsYXN0LWNoaWxkIHtcXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XFxufVxcblxcbiNnYW1lYm9hcmQtZW5lbXksXFxuI2dhbWVib2FyZC1wbGF5ZXIge1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGU6IHJlcGVhdCgxMCwgNDVweCkgLyByZXBlYXQoMTAsIDQ1cHgpO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcXG4gIGJveC1zaGFkb3c6IDAgMCA1cHggMnB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1MHB4KTtcXG59XFxuXFxuLmNlbGwsXFxuLmNlbGwtZW5lbXkge1xcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcXG59XFxuXFxuLnNoaXAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2hpcC1jb2xvcik7XFxufVxcblxcbi5oaXQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE2NSwgMTY1LCAxNjUpO1xcbn1cXG5cXG4uaGl0LnNoaXAsXFxuLmhpdC5zaGlwLWVuZW15IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigxNDUsIDM2LCAzNik7XFxufVxcblxcbmZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGFsaWduLXNlbGY6IHN0cmV0Y2g7XFxuICBtYXJnaW46IDE1cHggNTBweDtcXG4gIGNvbG9yOiAjZmFlYmQ3O1xcbn1cXG5cXG4uaWNvbiB7XFxuICBoZWlnaHQ6IDM1cHg7XFxuICBmaWx0ZXI6IGludmVydCg4NSUpIHNlcGlhKDIlKSBzYXR1cmF0ZSgxNTgxJSkgaHVlLXJvdGF0ZSgzNDJkZWcpIGJyaWdodG5lc3MoMTA3JSkgY29udHJhc3QoMTAyJSk7XFxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMS40cyBlYXNlLWluLW91dDtcXG59XFxuXFxuLmljb246aG92ZXIge1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoNzIwZGVnKSBzY2FsZSgxLjUpO1xcbn1cXG5cXG5hIHtcXG4gIGNvbG9yOiBhbnRpcXVld2hpdGU7XFxufVxcblxcbi5pbnZhbGlkLWRyb3Age1xcbiAgLyogYm9yZGVyOiA0cHggc29saWQgcmVkOyAqL1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE2MCwgOTcsIDk3KTtcXG59XFxuXFxuLnZhbGlkLWRyb3Age1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEwMSwgMTcwLCAxMDEpO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICFzY3JpcHRVcmwpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4MjY6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoaXAge1xuICBjb25zdHJ1Y3RvcihsZW5ndGgsIG5hbWUpIHtcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaGl0cyA9IEFycmF5KGxlbmd0aCkuZmlsbChmYWxzZSk7XG4gICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuICAgIHRoaXMub3JpZW50YXRpb24gPSBudWxsO1xuICB9XG5cbiAgaGl0KCkge1xuICAgIGNvbnN0IGZpcnN0VW5oaXRJbmRleCA9IHRoaXMuaGl0cy5pbmRleE9mKGZhbHNlKTtcbiAgICBpZiAoZmlyc3RVbmhpdEluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5oaXRzW2ZpcnN0VW5oaXRJbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlzU3VuaygpIHtcbiAgICByZXR1cm4gdGhpcy5oaXRzLmV2ZXJ5KChoaXQpID0+IGhpdCk7XG4gIH1cbn1cblxuLy8gbW9kdWxlLmV4cG9ydHMgPSB7IFNoaXAgfTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVib2FyZCB7XG4gIGNvbnN0cnVjdG9yKHJvd3MsIGNvbHMpIHtcbiAgICB0aGlzLnJvd3MgPSByb3dzO1xuICAgIHRoaXMuY29scyA9IGNvbHM7XG4gICAgdGhpcy5ncmlkID0gdGhpcy5jcmVhdGVFbXB0eUdyaWQoKTtcbiAgICB0aGlzLmF0dGFja2VkQ2VsbHMgPSBbXTtcbiAgICB0aGlzLnN1bmtlblNoaXBzID0gMDtcbiAgfVxuXG4gIGNyZWF0ZUVtcHR5R3JpZCgpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogdGhpcy5yb3dzIH0sICgpID0+IEFycmF5KHRoaXMuY29scykuZmlsbChudWxsKSk7XG4gIH1cblxuICBpc1ZhbGlkUGxhY2VtZW50KHNoaXAsIHJvdywgY29sLCBvcmllbnRhdGlvbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgICAvKiBjaGVja3MgaWYgdGhlIHJvdyBleGlzdHMgKGlzIG5vdCBcbiAgICAgICAgICB1bmRlZmluZWQpIC0gaXMgd2l0aGluIHRoZSBib2FyZCAqL1xuICAgICAgICBpZiAodGhpcy5ncmlkW3Jvd10gJiYgdGhpcy5ncmlkW3Jvd11bY29sICsgaV0gIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZ3JpZFtyb3cgKyBpXSB8fCB0aGlzLmdyaWRbcm93ICsgaV1bY29sXSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcGxhY2VTaGlwKHNoaXAsIHJvdywgY29sLCBvcmllbnRhdGlvbikge1xuICAgIGNvbnN0IGlzVmFsaWRQbGFjZW1lbnQgPSB0aGlzLmlzVmFsaWRQbGFjZW1lbnQoc2hpcCwgcm93LCBjb2wsIG9yaWVudGF0aW9uKTtcbiAgICAvLyBjb25zb2xlLmxvZyhzaGlwLCByb3csIGNvbCwgb3JpZW50YXRpb24pO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZ3JpZCk7XG4gICAgaWYgKGlzVmFsaWRQbGFjZW1lbnQpIHtcbiAgICAgIHNoaXAuY29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgICAgdGhpcy5ncmlkW3Jvd11bY29sICsgaV0gPSBzaGlwO1xuICAgICAgICAgIHNoaXAuY29vcmRpbmF0ZXMucHVzaChgJHtyb3d9LSR7Y29sICsgaX1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmdyaWRbcm93ICsgaV1bY29sXSA9IHNoaXA7XG4gICAgICAgICAgc2hpcC5jb29yZGluYXRlcy5wdXNoKGAke3JvdyArIGl9LSR7Y29sfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzaGlwLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCBzaGlwIHBsYWNlbWVudCFcIik7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlU2hpcChzaGlwKSB7XG4gICAgZm9yIChjb25zdCBjb29yZGluYXRlIG9mIHNoaXAuY29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZ3JpZFtjb29yZGluYXRlWzBdXVtjb29yZGluYXRlWzJdXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVjZWl2ZUF0dGFjayhyb3csIGNvbCkge1xuICAgIGNvbnN0IGNlbGxDb29yZGluYXRlcyA9IGAke3Jvd30tJHtjb2x9YDtcbiAgICBpZiAodGhpcy5hdHRhY2tlZENlbGxzLmluY2x1ZGVzKGNlbGxDb29yZGluYXRlcykpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBhdHRhY2tlZCB0aGlzIGNlbGwhXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5ncmlkW3Jvd10gJiYgdGhpcy5ncmlkW3Jvd11bY29sXSAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qgc2hpcCA9IHRoaXMuZ3JpZFtyb3ddW2NvbF07XG4gICAgICBzaGlwLmhpdCgpO1xuICAgICAgdGhpcy5hdHRhY2tlZENlbGxzLnB1c2goY2VsbENvb3JkaW5hdGVzKTtcbiAgICAgIC8vIHRoaXMuY2hlY2tWaWN0b3J5KHNoaXApO1xuICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgdGhpcy5zdW5rZW5TaGlwcyArPSAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRoaXMuYXR0YWNrZWRDZWxscy5wdXNoKGNlbGxDb29yZGluYXRlcyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY2hlY2tWaWN0b3J5KCkge1xuICAgIHJldHVybiB0aGlzLnN1bmtlblNoaXBzID49IDc7XG4gICAgLy8gaWYgKHNoaXAuaXNTdW5rKCkpIHtcbiAgICAvLyAgIHRoaXMuc3Vua2VuU2hpcHMgKz0gMTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKHRoaXMuc3Vua2VuU2hpcHMgPj0gNykge1xuICAgIC8vICAgY29uc29sZS5sb2coXCJGbGVldCBkZXN0cm95ZWQhXCIpO1xuICAgIC8vIH1cbiAgfVxuXG4gIGRpc3BsYXkoKSB7XG4gICAgLy8gRGlzcGxheSBjb2x1bW4gbnVtYmVyIG9uIHRoZSB0b3AgZWRnZVxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYCAgICR7QXJyYXkuZnJvbSh7IGxlbmd0aDogdGhpcy5jb2xzIH0sIChfLCBpbmRleCkgPT4gaW5kZXgpLmpvaW4oXCIgXCIpfWAsXG4gICAgKTtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLnJvd3M7IHJvdysrKSB7XG4gICAgICAvLyBEaXNwbGF5IHJvdyBudW1iZXIgb24gdGhlIGxlZnQgZWRnZVxuICAgICAgY29uc3Qgcm93TnVtYmVyID0gcm93IDwgMTAgPyBgICR7cm93fWAgOiByb3c7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYCR7cm93TnVtYmVyfSAke3RoaXMuZ3JpZFtyb3ddXG4gICAgICAgICAgLm1hcCgoY2VsbCkgPT4gKGNlbGwgPyBcIlhcIiA6IFwiLVwiKSlcbiAgICAgICAgICAuam9pbihcIiBcIil9YCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8vIG1vZHVsZS5leHBvcnRzID0geyBHYW1lYm9hcmQgfTtcbiIsImltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5pbXBvcnQgQmF0dGxlc2hpcCBmcm9tIFwiLi9iYXR0bGVzaGlwLmpwZ1wiO1xuaW1wb3J0IEdpdGh1YiBmcm9tIFwiLi9naXRodWIuc3ZnXCI7XG5pbXBvcnQgZmF2aWNvbiBmcm9tIFwiLi9mYXZpY29uLnN2Z1wiO1xuaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcblxuY29uc3QgZW5lbXlCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FtZWJvYXJkLWVuZW15XCIpO1xuY29uc3QgcGxheWVyQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbWVib2FyZC1wbGF5ZXJcIik7XG5jb25zdCBidXR0b25QbGFjZUZsZWV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGFjZS1mbGVldFwiKTtcbmNvbnN0IGJ1dHRvblN0YXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGFydFwiKTtcbmNvbnN0IHRleHRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGV4dFwiKTtcblxubGV0IGJvYXJkUGxheWVyID0gbmV3IEdhbWVib2FyZCgxMCwgMTApO1xubGV0IGJvYXJkRW5lbXkgPSBuZXcgR2FtZWJvYXJkKDEwLCAxMCk7XG5cbmxldCBzaGlwcyA9IHt9O1xubGV0IHNoaXBzRW5lbXkgPSB7fTtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVNoaXBzKCkge1xuICBzaGlwcyA9IHtcbiAgICBzdWJtYXJpbmUxOiBuZXcgU2hpcCgxLCBcInN1Ym1hcmluZTFcIiksXG4gICAgc3VibWFyaW5lMjogbmV3IFNoaXAoMSwgXCJzdWJtYXJpbmUyXCIpLFxuICAgIGRlc3Ryb3llcjE6IG5ldyBTaGlwKDIsIFwiZGVzdHJveWVyMVwiKSxcbiAgICBkZXN0cm95ZXIyOiBuZXcgU2hpcCgyLCBcImRlc3Ryb3llcjJcIiksXG4gICAgY3J1aXNlcjogbmV3IFNoaXAoMywgXCJjcnVpc2VyXCIpLFxuICAgIGJhdHRsZXNoaXA6IG5ldyBTaGlwKDQsIFwiYmF0dGxlc2hpcFwiKSxcbiAgICBjYXJyaWVyOiBuZXcgU2hpcCg1LCBcImNhcnJpZXJcIiksXG4gIH07XG4gIHNoaXBzRW5lbXkgPSB7XG4gICAgc3VibWFyaW5lMUVuZW15OiBuZXcgU2hpcCgxKSxcbiAgICBzdWJtYXJpbmUyRW5lbXk6IG5ldyBTaGlwKDEpLFxuICAgIGRlc3Ryb3llcjFFbmVteTogbmV3IFNoaXAoMiksXG4gICAgZGVzdHJveWVyMkVuZW15OiBuZXcgU2hpcCgyKSxcbiAgICBjcnVpc2VyRW5lbXk6IG5ldyBTaGlwKDMpLFxuICAgIGJhdHRsZXNoaXBFbmVteTogbmV3IFNoaXAoNCksXG4gICAgY2FycmllckVuZW15OiBuZXcgU2hpcCg1KSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGxheWVyQm9hcmQoKSB7XG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDEwOyByb3crKykge1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDEwOyBjb2wrKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xuICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgJHtyb3d9LSR7Y29sfWApO1xuICAgICAgcGxheWVyQm9hcmQuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVuZW15Qm9hcmQoKSB7XG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDEwOyByb3crKykge1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDEwOyBjb2wrKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJjZWxsLWVuZW15XCIpO1xuICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgJHtyb3d9LSR7Y29sfS1lbmVteWApO1xuICAgICAgZW5lbXlCb2FyZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gIH1cbn1cbmluaXRpYWxpemVTaGlwcygpO1xuY3JlYXRlUGxheWVyQm9hcmQoKTtcbmNyZWF0ZUVuZW15Qm9hcmQoKTtcbmNvbnN0IGNlbGxzRW5lbXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGwtZW5lbXlcIik7XG5cbi8qIGRpc3BsYXlzIHNoaXBzIG9uIHRoZSB2aXNpYmxlIGJvYXJkIGFjY29yZGluZ1xudG8gdGhlIGJvYXJkIG9iamVjdCAqL1xuZnVuY3Rpb24gZGlzcGxheVNoaXBzKGJvYXJkLCBlbmVteSA9IGZhbHNlKSB7XG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDEwOyByb3crKykge1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDEwOyBjb2wrKykge1xuICAgICAgaWYgKGJvYXJkLmdyaWRbcm93XVtjb2xdICYmICFlbmVteSkge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7cm93fS0ke2NvbH1gKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcbiAgICAgICAgY2VsbC5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChib2FyZC5ncmlkW3Jvd11bY29sXSAmJiBlbmVteSkge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7cm93fS0ke2NvbH0tZW5lbXlgKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwic2hpcC1lbmVteVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyogcGxhY2VzIHNoaXBzIG9uIHJhbmRvbSBvbiB0aGUgYm9hcmQgKi9cbmZ1bmN0aW9uIHJhbmRvbVBsYWNlbWVudChib2FyZCwgZmxlZXQpIHtcbiAgZm9yIChjb25zdCBzaGlwIGluIGZsZWV0KSB7XG4gICAgbGV0IHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICBsZXQgY29sID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIGxldCBvcmllbnRhdGlvbiA9IFtcInZlcnRpY2FsXCIsIFwiaG9yaXpvbnRhbFwiXVtNYXRoLnJhbmRvbSgpIDwgMC41ID8gMCA6IDFdO1xuICAgIHdoaWxlICghYm9hcmQuaXNWYWxpZFBsYWNlbWVudChmbGVldFtzaGlwXSwgcm93LCBjb2wsIG9yaWVudGF0aW9uKSkge1xuICAgICAgcm93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgY29sID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgb3JpZW50YXRpb24gPSBbXCJ2ZXJ0aWNhbFwiLCBcImhvcml6b250YWxcIl1bTWF0aC5yYW5kb20oKSA8IDAuNSA/IDAgOiAxXTtcbiAgICB9XG4gICAgYm9hcmQucGxhY2VTaGlwKGZsZWV0W3NoaXBdLCByb3csIGNvbCwgb3JpZW50YXRpb24pO1xuICB9XG59XG5cbi8qIHdpcGVzIGFkZGVkIGNsYXNzZXMgYW5kIG92ZXJ3cml0ZXMgZXhpc3RpbmcgYm9hcmRzIHdpdGhcbmVtcHR5IG9uZXMsIHJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gZW5lbXkgYm9hcmQgKi9cbmZ1bmN0aW9uIHdpcGVCb2FyZHMoKSB7XG4gIGNvbnN0IHVzZWRDZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGl0LCAuc2hpcCwgLnNoaXAtZW5lbXlcIik7XG4gIHVzZWRDZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hpcFwiKTtcbiAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJoaXRcIik7XG4gICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hpcC1lbmVteVwiKTtcbiAgfSk7XG4gIGJvYXJkUGxheWVyID0gbmV3IEdhbWVib2FyZCgxMCwgMTApO1xuICBib2FyZEVuZW15ID0gbmV3IEdhbWVib2FyZCgxMCwgMTApO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgY2VsbHNFbmVteS5mb3JFYWNoKChpKSA9PiBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQbGF5ZXJDbGljaykpO1xufVxuXG4vKiBmb3IgZXZlcnkgc2hpcCBpbiB0aGUgZmxlZXQgY2hlY2tzIGlmIHRoZSBzaGlwIFxuaXMgc3VuayBhbmQgY29sb3JzIHRoZSBjZW50ZXIgc2hpcCByZWQgaWYgaXQgaXMgKi9cbmZ1bmN0aW9uIHNob3dTdW5rRmxlZXQoZmxlZXQsIGVuZW15ID0gZmFsc2UpIHtcbiAgZm9yIChjb25zdCBzaGlwIGluIGZsZWV0KSB7XG4gICAgaWYgKGZsZWV0W3NoaXBdLmlzU3VuaygpICYmICFlbmVteSkge1xuICAgICAgY29uc3Qgc2hvd25TdW5rU2hpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3NoaXB9LXBsYXllcmApO1xuICAgICAgY29uc3QgY2hpbGREaXZzID0gc2hvd25TdW5rU2hpcC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2XCIpO1xuICAgICAgY2hpbGREaXZzLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoXCJzaGlwXCIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChmbGVldFtzaGlwXS5pc1N1bmsoKSAmJiBlbmVteSkge1xuICAgICAgY29uc3Qgc2hvd25TdW5rU2hpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGAuJHtzaGlwLnNsaWNlKDAsIC01KX0tZW5lbXlgLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNoaWxkRGl2cyA9IHNob3duU3Vua1NoaXAucXVlcnlTZWxlY3RvckFsbChcImRpdlwiKTtcbiAgICAgIGNoaWxkRGl2cy5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5yYW5kb21QbGFjZW1lbnQoYm9hcmRQbGF5ZXIsIHNoaXBzKTtcbmRpc3BsYXlTaGlwcyhib2FyZFBsYXllcik7XG5yYW5kb21QbGFjZW1lbnQoYm9hcmRFbmVteSwgc2hpcHNFbmVteSk7XG5kaXNwbGF5U2hpcHMoYm9hcmRFbmVteSwgdHJ1ZSk7XG5cbmJ1dHRvblBsYWNlRmxlZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdGV4dEZpZWxkLmlubmVyVGV4dCA9IFwiUGxhY2UgeW91ciBmbGVldCFcIjtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b29sdGlwXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIGJ1dHRvblBsYWNlRmxlZXQuaW5uZXJUZXh0ID0gXCJSYW5kb20gcGxhY2VtZW50XCI7XG4gIHdpcGVCb2FyZHMoKTtcbiAgaW5pdGlhbGl6ZVNoaXBzKCk7XG4gIHJhbmRvbVBsYWNlbWVudChib2FyZFBsYXllciwgc2hpcHMpO1xuICByYW5kb21QbGFjZW1lbnQoYm9hcmRFbmVteSwgc2hpcHNFbmVteSk7XG4gIGRpc3BsYXlTaGlwcyhib2FyZFBsYXllcik7XG4gIGRpc3BsYXlTaGlwcyhib2FyZEVuZW15LCB0cnVlKTtcbiAgYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCBkcmFnU3RhcnQpO1xuICBib2FyZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZHJhZ092ZXIpO1xuICBib2FyZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIGRyYWdFbnRlcik7XG4gIGJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgZHJhZ0xlYXZlKTtcbiAgYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgZHJhZ0Ryb3ApO1xuICBib2FyZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCBkcmFnRW5kKTtcbn0pO1xuXG5mdW5jdGlvbiBwbGF5ZXJBdHRhY2soZSkge1xuICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICBib2FyZEVuZW15LnJlY2VpdmVBdHRhY2soZS50YXJnZXQuaWRbMF0sIGUudGFyZ2V0LmlkWzJdKTtcbiAgc2hvd1N1bmtGbGVldChzaGlwc0VuZW15LCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZXJBdHRhY2soKSB7XG4gIGxldCByb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gIGxldCBjb2wgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gIHdoaWxlIChib2FyZFBsYXllci5hdHRhY2tlZENlbGxzLmluY2x1ZGVzKGAke3Jvd30tJHtjb2x9YCkpIHtcbiAgICByb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgY29sID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Jvd30tJHtjb2x9YCk7XG4gIHRhcmdldC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICBib2FyZFBsYXllci5yZWNlaXZlQXR0YWNrKHJvdywgY29sKTtcbiAgc2hvd1N1bmtGbGVldChzaGlwcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBsYXllckNsaWNrKGUpIHtcbiAgaWYgKFxuICAgICFib2FyZEVuZW15LmF0dGFja2VkQ2VsbHMuaW5jbHVkZXMoYCR7ZS50YXJnZXQuaWRbMF19LSR7ZS50YXJnZXQuaWRbMl19YClcbiAgKSB7XG4gICAgcGxheWVyQXR0YWNrKGUpO1xuICAgIGlmIChib2FyZEVuZW15LmNoZWNrVmljdG9yeSgpKSB7XG4gICAgICB0ZXh0RmllbGQuaW5uZXJUZXh0ID0gXCJZb3Ugd2luIVwiO1xuICAgICAgY2VsbHNFbmVteS5mb3JFYWNoKChpKSA9PlxuICAgICAgICBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQbGF5ZXJDbGljayksXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb21wdXRlckF0dGFjaygpO1xuICAgIGlmIChib2FyZFBsYXllci5jaGVja1ZpY3RvcnkoKSkge1xuICAgICAgdGV4dEZpZWxkLmlubmVyVGV4dCA9IFwiWW91IGxvb3NlIVwiO1xuICAgICAgY2VsbHNFbmVteS5mb3JFYWNoKChpKSA9PlxuICAgICAgICBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQbGF5ZXJDbGljayksXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzZXR1cFBsYXllclR1cm4oKSB7XG4gIGNlbGxzRW5lbXkuZm9yRWFjaCgoY2VsbCkgPT5cbiAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQbGF5ZXJDbGljayksXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdhbWVwbGF5KCkge1xuICB0ZXh0RmllbGQuaW5uZXJUZXh0ID0gXCJHYW1lIGhhcyBzdGFydGVkIVwiO1xuICBidXR0b25QbGFjZUZsZWV0LmlubmVyVGV4dCA9IFwiTmV3IGdhbWVcIjtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b29sdGlwXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgc2V0dXBQbGF5ZXJUdXJuKCk7XG59XG5cbmNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lYm9hcmQtcGxheWVyXCIpO1xubGV0IG9yaWVudGF0aW9uO1xuY29uc3QgdGVtcCA9IHsgbGVuZ3RoOiBudWxsIH07XG5sZXQgcG9zc2libGVDZWxscyA9IFtdO1xuXG5idXR0b25TdGFydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBnYW1lcGxheSgpO1xuICBib2FyZC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIGRyYWdTdGFydCk7XG4gIGJvYXJkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBkcmFnT3Zlcik7XG4gIGJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIiwgZHJhZ0VudGVyKTtcbiAgYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCBkcmFnTGVhdmUpO1xuICBib2FyZC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBkcmFnRHJvcCk7XG4gIGJvYXJkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnZW5kXCIsIGRyYWdFbmQpO1xufSk7XG5cbmZ1bmN0aW9uIGRyYWdTdGFydChlKSB7XG4gIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaGlwXCIpKSB7XG4gICAgY29uc3Qgcm93ID0gZS50YXJnZXQuaWRbMF07XG4gICAgY29uc3QgY29sID0gZS50YXJnZXQuaWRbMl07XG4gICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwibW92ZVwiO1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5zcmMgPSBcIlwiO1xuICAgIC8vIFNldCBlbXB0eSBpbWFnZSBhcyB0aGUgZHJhZyBpbWFnZVxuICAgIGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShpbWcsIDAsIDApO1xuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXG4gICAgICBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIEpTT04uc3RyaW5naWZ5KGJvYXJkUGxheWVyLmdyaWRbcm93XVtjb2xdKSxcbiAgICApO1xuICAgIHRlbXAubGVuZ3RoID0gYm9hcmRQbGF5ZXIuZ3JpZFtyb3ddW2NvbF0ubGVuZ3RoO1xuICAgIG9yaWVudGF0aW9uID0gYm9hcmRQbGF5ZXIuZ3JpZFtyb3ddW2NvbF0ub3JpZW50YXRpb247XG4gIH0gZWxzZSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWdPdmVyKGUpIHtcbiAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaGlwXCIpKSBlLnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmZ1bmN0aW9uIGRyYWdFbnRlcihlKSB7XG4gIHBvc3NpYmxlQ2VsbHMgPSBbXTtcbiAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZS50YXJnZXQuaWRbMF0sIDEwKTtcbiAgY29uc3QgY29sID0gcGFyc2VJbnQoZS50YXJnZXQuaWRbMl0sIDEwKTtcbiAgdHJ5IHtcbiAgICBpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvc3NpYmxlQ2VsbHMucHVzaChgJHtyb3cgKyBpfS0ke2NvbH1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvc3NpYmxlQ2VsbHMucHVzaChgJHtyb3d9LSR7Y29sICsgaX1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFib2FyZFBsYXllci5pc1ZhbGlkUGxhY2VtZW50KHRlbXAsIHJvdywgY29sLCBvcmllbnRhdGlvbikpIHtcbiAgICAgIGZvciAoY29uc3QgaSBvZiBwb3NzaWJsZUNlbGxzKSB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpWzBdfS0ke2lbMl19YCk7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcImludmFsaWQtZHJvcFwiKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwidmFsaWQtZHJvcFwiKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiaW52YWxpZC1kcm9wXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgcG9zc2libGVDZWxscykge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aVswXX0tJHtpWzJdfWApO1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZhbGlkLWRyb3BcIik7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcInZhbGlkLWRyb3BcIik7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcInZhbGlkLWRyb3BcIik7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiT3V0IG9mIHJhbmdlOiBcIiwgZXJyb3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWdMZWF2ZSgpIHtcbiAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIik7XG4gIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICBpZiAoIXBvc3NpYmxlQ2VsbHMuaW5jbHVkZXMoY2VsbC5pZCkpIHtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcImludmFsaWQtZHJvcFwiKTtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcInZhbGlkLWRyb3BcIik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZHJhZ0Ryb3AoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8qIGdldCB0aGUgZGF0YSBmcm9tIHBpY2tlZCB1cCBjZWxsICovXG4gIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcIm1vdmVcIjtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcImFwcGxpY2F0aW9uL2pzb25cIikpO1xuICBjb25zdCBzaGlwID0gbmV3IFNoaXAoZGF0YS5sZW5ndGgsIGRhdGEubmFtZSk7XG4gIGNvbnN0IHsgb3JpZW50YXRpb24gfSA9IGRhdGE7XG4gIGNvbnN0IHJvd0Zyb20gPSBkYXRhLmNvb3JkaW5hdGVzWzBdWzBdO1xuICBjb25zdCBjb2xGcm9tID0gZGF0YS5jb29yZGluYXRlc1swXVsyXTtcbiAgLyogcGxhY2VzIHRoZSBzaGlwIGludG8gdGhlIHRhcmdldCBjZWxsICovXG4gIGNvbnN0IHJvdyA9IHBhcnNlSW50KGUudGFyZ2V0LmlkWzBdLCAxMCk7XG4gIGNvbnN0IGNvbCA9IHBhcnNlSW50KGUudGFyZ2V0LmlkWzJdLCAxMCk7XG4gIGlmIChib2FyZFBsYXllci5pc1ZhbGlkUGxhY2VtZW50KHNoaXAsIHJvdywgY29sLCBvcmllbnRhdGlvbikpIHtcbiAgICAvKiByZW1vdmVzIHRoZSBzaGlwIHZpc3VhbHkgKi9cbiAgICBmb3IgKGNvbnN0IGNvb3JkaW5hdGUgb2YgYm9hcmRQbGF5ZXIuZ3JpZFtyb3dGcm9tXVtjb2xGcm9tXS5jb29yZGluYXRlcykge1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKGAke2Nvb3JkaW5hdGVbMF19LSR7Y29vcmRpbmF0ZVsyXX1gKVxuICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShcInNoaXBcIik7XG4gICAgfVxuICAgIC8qIHJlbW92ZXMgdGhlIHNoaXAgZnJvbSB0aGUgYm9hcmQgKi9cbiAgICBib2FyZFBsYXllci5yZW1vdmVTaGlwKGJvYXJkUGxheWVyLmdyaWRbcm93RnJvbV1bY29sRnJvbV0pO1xuICAgIC8qIHBsYWNlcyB0aGUgc2hpcCBpbiB0aGUgbmV3IGxvY2F0aW9uICovXG4gICAgYm9hcmRQbGF5ZXIucGxhY2VTaGlwKHNoaXAsIHJvdywgY29sLCBvcmllbnRhdGlvbik7XG4gICAgLyogdXBkYXRlIGNvb3JkaW5hdGVzIGluIHNoaXBzIG9iamVjdCBhY2NvcmRpbmcgdG8gYm9hcmQgKi9cbiAgICBzaGlwc1tzaGlwLm5hbWVdLmNvb3JkaW5hdGVzID0gYm9hcmRQbGF5ZXIuZ3JpZFtyb3ddW2NvbF0uY29vcmRpbmF0ZXM7XG4gICAgc2hpcHNbc2hpcC5uYW1lXS5oaXRzID0gYm9hcmRQbGF5ZXIuZ3JpZFtyb3ddW2NvbF0uaGl0cztcbiAgfVxuICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW52YWxpZC1kcm9wLCAudmFsaWQtZHJvcFwiKTtcbiAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcImludmFsaWQtZHJvcFwiKTtcbiAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJ2YWxpZC1kcm9wXCIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZHJhZ0VuZCgpIHtcbiAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmludmFsaWQtZHJvcCwgLnZhbGlkLWRyb3BcIik7XG4gIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZhbGlkLWRyb3BcIik7XG4gICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwidmFsaWQtZHJvcFwiKTtcbiAgfSk7XG4gIGRpc3BsYXlTaGlwcyhib2FyZFBsYXllcik7XG59XG5cbmJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgZHJhZ1N0YXJ0KTtcbmJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBkcmFnT3Zlcik7XG5ib2FyZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIGRyYWdFbnRlcik7XG5ib2FyZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIGRyYWdMZWF2ZSk7XG5ib2FyZC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBkcmFnRHJvcCk7XG5ib2FyZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCBkcmFnRW5kKTtcblxuZnVuY3Rpb24gY2hlY2tBdmFpbGFibGVPcmllbnRhdGlvbihzaGlwKSB7XG4gIC8qIGlmIGN1cnJlbnQgb3JpZW50YXRpb24gaXMgdGhpcywgY2hlY2sgdGhlIG90aGVyICovXG4gIGlmIChzaGlwLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgIGNvbnN0IHJvdyA9IHBhcnNlSW50KHNoaXAuY29vcmRpbmF0ZXNbMF1bMF0sIDEwKTtcbiAgICBjb25zdCBjb2wgPSBwYXJzZUludChzaGlwLmNvb3JkaW5hdGVzWzBdWzJdLCAxMCk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocm93ICsgaSA+IDkgfHwgYm9hcmRQbGF5ZXIuZ3JpZFtyb3cgKyBpXVtjb2xdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoc2hpcC5jb29yZGluYXRlc1swXVswXSwgMTApO1xuICAgIGNvbnN0IGNvbCA9IHBhcnNlSW50KHNoaXAuY29vcmRpbmF0ZXNbMF1bMl0sIDEwKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjb2wgKyBpID4gOSB8fCBib2FyZFBsYXllci5ncmlkW3Jvd11bY29sICsgaV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlQXhpcyhzaGlwKSB7XG4gIGlmIChjaGVja0F2YWlsYWJsZU9yaWVudGF0aW9uKHNoaXApKSB7XG4gICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoc2hpcC5jb29yZGluYXRlc1swXVswXSwgMTApO1xuICAgIGNvbnN0IGNvbCA9IHBhcnNlSW50KHNoaXAuY29vcmRpbmF0ZXNbMF1bMl0sIDEwKTtcbiAgICBmb3IgKGNvbnN0IGNvb3JkaW5hdGUgb2YgYm9hcmRQbGF5ZXIuZ3JpZFtyb3ddW2NvbF0uY29vcmRpbmF0ZXMpIHtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChgJHtjb29yZGluYXRlWzBdfS0ke2Nvb3JkaW5hdGVbMl19YClcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJzaGlwXCIpO1xuICAgIH1cbiAgICBib2FyZFBsYXllci5yZW1vdmVTaGlwKHNoaXApO1xuICAgIGlmIChzaGlwLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgYm9hcmRQbGF5ZXIucGxhY2VTaGlwKHNoaXAsIHJvdywgY29sLCBcInZlcnRpY2FsXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2FyZFBsYXllci5wbGFjZVNoaXAoc2hpcCwgcm93LCBjb2wsIFwiaG9yaXpvbnRhbFwiKTtcbiAgICB9XG4gICAgc2hpcHNbc2hpcC5uYW1lXS5jb29yZGluYXRlcyA9IGJvYXJkUGxheWVyLmdyaWRbcm93XVtjb2xdLmNvb3JkaW5hdGVzO1xuICAgIHNoaXBzW3NoaXAubmFtZV0uaGl0cyA9IGJvYXJkUGxheWVyLmdyaWRbcm93XVtjb2xdLmhpdHM7XG4gIH1cbn1cblxuYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIChlKSA9PiB7XG4gIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaGlwXCIpKSB7XG4gICAgY29uc3Qgcm93ID0gZS50YXJnZXQuaWRbMF07XG4gICAgY29uc3QgY29sID0gZS50YXJnZXQuaWRbMl07XG4gICAgY29uc3Qgc2hpcCA9IGJvYXJkUGxheWVyLmdyaWRbcm93XVtjb2xdO1xuICAgIGNoYW5nZUF4aXMoc2hpcCk7XG4gICAgZGlzcGxheVNoaXBzKGJvYXJkUGxheWVyKTtcbiAgfVxufSk7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18iLCJVUkwiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJ1cmwiLCJvcHRpb25zIiwiU3RyaW5nIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0ZXN0Iiwic2xpY2UiLCJoYXNoIiwibmVlZFF1b3RlcyIsInJlcGxhY2UiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibiIsImdldHRlciIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwIiwiYiIsImJhc2VVUkkiLCJzZWxmIiwiaHJlZiIsIm5jIiwibG9jYWxzIiwiU2hpcCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImhpdHMiLCJBcnJheSIsImZpbGwiLCJjb29yZGluYXRlcyIsIm9yaWVudGF0aW9uIiwiaGl0IiwiZmlyc3RVbmhpdEluZGV4IiwiaW5kZXhPZiIsImlzU3VuayIsImV2ZXJ5IiwiR2FtZWJvYXJkIiwicm93cyIsImNvbHMiLCJncmlkIiwiY3JlYXRlRW1wdHlHcmlkIiwiYXR0YWNrZWRDZWxscyIsInN1bmtlblNoaXBzIiwiZnJvbSIsImlzVmFsaWRQbGFjZW1lbnQiLCJzaGlwIiwicm93IiwiY29sIiwicGxhY2VTaGlwIiwiY29uc29sZSIsImxvZyIsInJlbW92ZVNoaXAiLCJjb29yZGluYXRlIiwicmVjZWl2ZUF0dGFjayIsImNlbGxDb29yZGluYXRlcyIsImluY2x1ZGVzIiwiY2hlY2tWaWN0b3J5IiwiZGlzcGxheSIsIl8iLCJyb3dOdW1iZXIiLCJjZWxsIiwiZW5lbXlCb2FyZCIsInBsYXllckJvYXJkIiwiYnV0dG9uUGxhY2VGbGVldCIsImJ1dHRvblN0YXJ0IiwidGV4dEZpZWxkIiwiYm9hcmRQbGF5ZXIiLCJib2FyZEVuZW15Iiwic2hpcHMiLCJzaGlwc0VuZW15IiwiaW5pdGlhbGl6ZVNoaXBzIiwic3VibWFyaW5lMSIsInN1Ym1hcmluZTIiLCJkZXN0cm95ZXIxIiwiZGVzdHJveWVyMiIsImNydWlzZXIiLCJiYXR0bGVzaGlwIiwiY2FycmllciIsInN1Ym1hcmluZTFFbmVteSIsInN1Ym1hcmluZTJFbmVteSIsImRlc3Ryb3llcjFFbmVteSIsImRlc3Ryb3llcjJFbmVteSIsImNydWlzZXJFbmVteSIsImJhdHRsZXNoaXBFbmVteSIsImNhcnJpZXJFbmVteSIsImNsYXNzTGlzdCIsImFkZCIsImNyZWF0ZVBsYXllckJvYXJkIiwiY3JlYXRlRW5lbXlCb2FyZCIsImNlbGxzRW5lbXkiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGlzcGxheVNoaXBzIiwiYm9hcmQiLCJlbmVteSIsImdldEVsZW1lbnRCeUlkIiwiZHJhZ2dhYmxlIiwicmFuZG9tUGxhY2VtZW50IiwiZmxlZXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzaG93U3Vua0ZsZWV0IiwiZm9yRWFjaCIsImNoaWxkIiwiaGFuZGxlUGxheWVyQ2xpY2siLCJwbGF5ZXJBdHRhY2siLCJpbm5lclRleHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29tcHV0ZXJBdHRhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZHJhZ1N0YXJ0IiwiZHJhZ092ZXIiLCJkcmFnRW50ZXIiLCJkcmFnTGVhdmUiLCJkcmFnRHJvcCIsImRyYWdFbmQiLCJ0ZW1wIiwicG9zc2libGVDZWxscyIsImNvbnRhaW5zIiwiZGF0YVRyYW5zZmVyIiwiZWZmZWN0QWxsb3dlZCIsImltZyIsIkltYWdlIiwic2V0RHJhZ0ltYWdlIiwic2V0RGF0YSIsInByZXZlbnREZWZhdWx0IiwicGFyc2VJbnQiLCJlcnJvciIsImRyb3BFZmZlY3QiLCJwYXJzZSIsImdldERhdGEiLCJyb3dGcm9tIiwiY29sRnJvbSIsImNoZWNrQXZhaWxhYmxlT3JpZW50YXRpb24iLCJjaGFuZ2VBeGlzIl0sInNvdXJjZVJvb3QiOiIifQ==